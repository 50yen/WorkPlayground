jqueryでのモーダル画面作成　必要コード

(1) 親画面
・ struts2用jqueryプラグイン(別ページ参照)
・ <sj:dialog id="任意ID" autoOpen="false" modal="true"/>
	→なぜ<sj:dialog>として必要か検証しきれていないため保留。現状必須。
	→autoOpen(自動展開)をfalse、modal(モーダル画面)をtrueは必須。
・ form内に<div id="任意ID_2" title="" style='display:none;'></div>
・ モーダルとして必要な項目(仮検索条件など)をform内に記載
・ <input type="button" id="任意ID_button" value="任意" />

(2) ダミーJSP
・ form内にhiddenタグで親から引き継いだ値代入。
	→hiddenでなくとも構わないが子画面読み込みの際に表示されるためhiddenがベターかと思われる。
・ <s:token />で画面tokenを発行。
・<script>でonload処理にて子画面へ。

(3) 子画面
・ 親画面での検索条件をvalueに代入する。(value="%{#DispBeanName.receive}"等)
	→javascriptで代入可能かは不明（おそらく出来る）

(4) JavaScript
	① 親画面（"任意ID_button"が押された後の処理）
	・ 送るパラメータの文字列生成
		→ decodeを行わないと正しいParamが送れない
	・ iframeのsrc要素にパラメータを付加したURLを設定する
		→"ダミーjsp" + "?" + "parameter"
	・ ダイアログ表示処理
	② ダミーJSP(onload処理)
	・ 親画面からparam取得し、"?"除去等行いhiddenに代入
	・ submitを行う
	③ 子画面(モーダル閉じる)
	・ window.parent.document.getElementById("任意親画面ID").valueに子画面内value、画面tokenを代入
	・ window.parent.jQuery('#任意ID_2').dialog('close');にて画面閉じる。

(5) Java
	→ 特別な処理は必要なし。画面受け渡しに必要なIDなどをgetter,setter用意し、必要メソッドにてget,set行うのみ。	
